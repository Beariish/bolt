# Meta
This module contains functions for interacting with the VM itself.

## Constants
```rust
meta.stack_size     // The size of the value stack
meta.callstack_size // The size of the callstack
meta.verison        // A string describing the version of the library
```

## Functions
```rust
meta.gc(): number
```
Forces a garbage collection cycle. Returns the number of objects collected.

---

```rust
meta.grey(obj: any)
```
Marks an object as grey, stopping it from being collected next GC cycle.

---

```rust
meta.push_root(obj: any)
```
Pushes the object to the VM's temporary root stack, preventing collection until it's been popped

---

```rust
meta.pop_root()
```
Removes the top object from the root stack.

---

```rust
meta.add_reference(obj: any): number
```

Adds object to the natively referenced set, returning the number of references.

---

```rust
meta.remove_reference(obj: any): number
```

Removes a reference to `obj` from the native reference set, removing it entirely if there are none left. Returns the updated number of references.

---

```rust
meta.mem_size(): number
```

Retruns the number of bytes currently tracked by the GC.

---

```rust
meta.next_cycle(): number
```

Retruns the memory capacity required for the GC to trigger its next cycle.

---

```rust
meta.register_type(name: string, t: Type)
```

Registers a type to the prelude, making it globally acessible. This is how types like `number`, `string`, and `bool` are exposed.

---

```rust
meta.find_type(name: string): Type?
```

Searches the prelude for a type by `name`, returning `null` if none are found.

---

```rust
meta.get_enum_name(e: Type, value: any): string
```

Given enum `e`, returns a string representation of the entry `value`. `value` must be a valid option, or a runtime error is raised.

---

```rust
meta.add_module_path(path_spec: string)
```
Appends `path_spec` to the list of formats used when attempting to import a module. `%s` is replaced with the name when searching for it.

Example:
```rust
meta.add_module_path("lib/%s.bolt")
```

---

```rust
meta.get_union_size(t: Type): number
```

Returns the number of options in a given union type.

Example:
```rust
let x = meta.get_union_size(type(string | number | null))
print(x) // 3
```

---

```rust
meta.get_union_entry(t: Type, n: number): Type
```
Extracts the `n`th type from the union `t`.

Example:
```rust
let t = meta.get_union_entry(type(string | number | null), 1)
print(t) // type(number)
```

---

```rust
meta.dump(f: fn(?): ?): string
```

Disassembles and dumps the generated bytecode of the function `f` into a string. Mainly for VM development debugging.